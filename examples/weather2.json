{"version":1,"allow_edit":true,"plugins":[],"panes":[{"title":"C3JS CHART","width":1,"row":{"3":1,"4":1},"col":{"3":1,"4":1},"col_width":"3","widgets":[{"type":"c3js","settings":{"title":"timeseries","blocks":"5","value":"var datasets = {\n    data: {\n        columns: [\n                ['x', '2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'],\n                ['data1', 30, 200, 100, 400, 150, 250],\n                ['data2', 130, 340, 200, 500, 250, 350]\n        ]\n    }\n};\nreturn datasets;","options":"{\n    \"data\": {\n        \"x\": \"x\",\n        \"type\": \"line\"\n    },\n    \"axis\": {\n        \"x\": {\n            \"type\": \"timeseries\",\n            \"tick\": {\n                \"format\": \"%Y/%m/%d\"\n            }\n        }\n    }\n}"}}]},{"title":"インジケータライト","width":1,"row":{"1":31,"2":1,"3":13,"4":13,"5":11,"7":11},"col":{"1":1,"2":2,"3":2,"4":2,"5":2,"7":2},"col_width":1,"widgets":[{"type":"indicator","settings":{"title":"気温","value":"return (datasources[\"東京天気\"][\"current_temp\"] >= 5) ? 1 : 0;","on_text":"5度以上","off_text":"5度以下"}},{"type":"indicator","settings":{"title":"湿度","value":"return (datasources[\"東京天気\"][\"humidity\"] == 100) ? 1 : 0;\n    ","on_text":"100%","off_text":"100%未満"}},{"type":"indicator","settings":{"title":"風速","value":"return (datasources[\"東京天気\"][\"wind_speed\"] == 10) ? 1 : 0;","on_text":"10m以上","off_text":"10m未満"}},{"type":"indicator","settings":{"title":"気圧","value":"return (datasources[\"東京天気\"][\"pressure\"] == 1000) ? 1 : 0;","on_text":"1000hPA以上","off_text":"1000hPA未満"}}]},{"title":"テキスト","width":1,"row":{"1":51,"2":1,"3":13,"4":13,"5":21,"7":21},"col":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1},"col_width":1,"widgets":[{"type":"text_widget","settings":{"title":"","size":"regular","value":"datasources[\"現在時刻\"][\"full_string_value\"]","animate":true}},{"type":"text_widget","settings":{"title":"現在の温度","size":"regular","value":"return datasources[\"東京天気\"][\"current_temp\"].toFixed(2);","sparkline":true,"animate":true,"units":"℃"}}]},{"title":"ゲージ ファン","width":1,"row":{"1":41,"2":31,"3":13,"4":13,"5":11,"7":11},"col":{"1":1,"2":1,"3":3,"4":3,"5":1,"7":1},"col_width":1,"widgets":[{"type":"gauge","settings":{"title":"気圧","value":"datasources[\"東京天気\"][\"pressure\"]","shape":2,"units":"hPA","value_fontcolor":"#23baba","gauge_upper_color":"#3a45c7","gauge_mid_color":"#8dde1d","gauge_lower_color":"#759bfa","gauge_color":"#edebeb","gauge_widthscale":25,"min_value":0,"max_value":2000}}]},{"title":"Google Map","width":1,"row":{"1":11,"2":9,"3":21,"4":21,"5":11,"7":11},"col":{"1":1,"2":1,"3":1,"4":1,"5":3,"7":3},"col_width":1,"widgets":[{"type":"google_map","settings":{"lat":"datasources[\"東京天気\"][\"latitude\"]","lon":"datasources[\"東京天気\"][\"longitude\"]"}}]},{"title":"Flot chart","width":1,"row":{"3":23,"4":23,"5":1},"col":{"3":2,"4":2,"5":1},"col_width":"2","widgets":[{"type":"flotchart","settings":{"title":"Input Title","blocks":"5","value":"var dataset = [\n    {\n        label: '気温',\n        yaxis: 1,\n        data: []\n    },\n    {\n        label: '最高気温',\n        yaxis: 1,\n        data: []\n    },\n    {\n        label: '最低高温',\n        yaxis: 1,\n        data: []\n    },\n    {\n        label: '湿度',\n        yaxis: 2,\n        data: []\n    }\n];\n\n_.each(datasources[\"天気履歴\"][\"list\"], function(v) {\n    var temp_max, temp_min, temp;\n    temp = 0.55*(v.main.temp - 32);         // 摂氏華氏変換\n    temp = parseFloat(temp.toFixed(2));     // 下二桁切り捨て\n\n    temp_max = 0.55*(v.main.temp_max - 32);         // 摂氏華氏変換\n    temp_max = parseFloat(temp_max.toFixed(2));     // 下二桁切り捨て\n\n    temp_min = 0.55*(v.main.temp_min - 32);         // 摂氏華氏変換\n    temp_min = parseFloat(temp_min.toFixed(2));     // 下二桁切り捨て\n\n    dataset[0].data.push([ v.dt, temp ]);\n    dataset[1].data.push([ v.dt, temp_max ]);\n    dataset[2].data.push([ v.dt, temp_min ]);\n    dataset[3].data.push([ v.dt, v.main.humidity ]);\n});\nreturn dataset;","options":"{\n    \"grid\": {\n\t\t\"color\": \"#8b8b8b\",\n\t\t\"borderColor\": \"#8b8b8b\",\n\t\t\"borderWidth\": { \"top\":0, \"left\":2, \"bottom\":2, \"right\":2 },\n\t\t\"tickColor\":\"#525252\",\n\t\t\"hoverable\":true\n    },\n\t\"tooltip\":true,\n\t\"tooltipOpts\": {\n        \"content\":\"function(label, x, y) {var ret = \\\"%s %x %y\\\";return ret;}\",\n        \"defaultTheme\":false\n    },\n    \"series\": {\n        \"shadowSize\":0,\n        \"downsample\": { \"threshold\":800 },\n        \"lines\": { \"show\":true, \"lineWidth\":2 },\n        \"points\": { \"radius\":1, \"show\":false }\n    },\n    \"legend\": {\n        \"show\":true,\n        \"position\":\"sw\",\n        \"backgroundColor\":\"null\",\n        \"labelFormatter\":\"function(label, series){return label;}\"\n    },\n    \"xaxes\": [\n        {\n            \"font\":{ \"color\":\"#8b8b8b\" },\n            \"mode\":\"time\"\n        }\n    ],\n    \"yaxes\": [\n        {\n            \"font\":{ \"color\":\"#8b8b8b\" },\n            \"position\":\"left\",\n            \"tickFormatter\":\"function(v, axis) { var val = Math.floor(v * 10) / 10; return val + \\\"℃\\\"; }\"\n        },\n        {\n            \"font\":{ \"color\":\"#8b8b8b\" },\n            \"position\":\"right\",\n            \"tickFormatter\":\"function(v, axis) { var val = Math.floor(v * 10) / 10; return val + \\\"%\\\"; }\"\n        }\n    ]\n}","tooltip_style":"padding:3px 5px; color:#000000; background-color:#ffffff; box-shadow:0 0 10px #555; opacity:.7; filter:alpha(opacity=70); z-index:100; -webkit-border-radius:4px; -moz-border-radius:4px; border-radius:4px; font-size:12px;"}}]},{"title":"ポインタ","width":1,"row":{"1":69,"2":31,"3":31,"4":31,"5":29,"6":29,"7":29},"col":{"1":1,"2":2,"3":1,"4":1,"5":1,"6":1,"7":1},"col_width":1,"widgets":[{"type":"pointer","settings":{"title":"風向き","direction":"datasources[\"東京天気\"][\"wind_direction\"]","value_text":"datasources[\"東京天気\"][\"wind_speed\"]","units":"m","circle_color":"#ff000d","pointer_color":"#ffffff"}}]},{"title":"ゲージ ハーフ","width":1,"row":{"1":59,"2":11,"3":35,"4":35,"5":21,"6":21,"7":21},"col":{"1":1,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2},"col_width":"2","widgets":[{"type":"gauge","settings":{"title":"湿度","value":"datasources[\"東京天気\"][\"humidity\"]","shape":0,"units":"%","value_fontcolor":"#d3d4d4","gauge_upper_color":"#ff0000","gauge_mid_color":"#f9c802","gauge_lower_color":"#a9d70b","gauge_color":"#edebeb","gauge_widthscale":50,"min_value":0,"max_value":100}}]}],"datasources":[{"name":"東京天気","type":"openweathermap","settings":{"location":"Tokyo, JP","units":"metric","refresh":5,"name":"東京天気"}},{"name":"現在時刻","type":"clock","settings":{"refresh":1,"name":"現在時刻"}},{"name":"天気履歴","type":"JSON","settings":{"url":"http://api.openweathermap.org/data/2.5/history/city","use_thingproxy":false,"refresh":10,"method":"GET","body":"{ \"id\":2885679, \"type\":\"hour\", \"start\":1369728000 }","headers":[{"name":"","value":""}],"name":"天気履歴"}}],"columns":3}